# 0802 í•™ìŠµ ì •ë¦¬

---

## âœ… QueryDSL ì£¼ìš” ë¬¸ë²• ìš”ì•½

### ğŸ“Œ ê¸°ë³¸ ë¬¸ë²•

* `JPAQueryFactory`: QueryDSLì˜ ì¿¼ë¦¬ ìƒì„±ì„ ë‹´ë‹¹í•˜ëŠ” í•µì‹¬ ê°ì²´
* `Që„ë©”ì¸í´ë˜ìŠ¤`: QueryDSLì´ ë„ë©”ì¸ í´ë˜ìŠ¤ì— ëŒ€í•´ ìƒì„±í•œ ì¿¼ë¦¬ íƒ€ì… í´ë˜ìŠ¤ (ì˜ˆ: QIdol)

### ğŸ“Œ ê¸°ë³¸ ì¡°íšŒ ë°©ì‹

```java
factory.selectFrom(idol).fetch();
factory.select(idol.idolName).from(idol).fetch();
```

### ğŸ“Œ where ì¡°ê±´ì ˆ

```java
.where(idol.idolName.eq("ì‚¬ì¿ ë¼"))
.where(idol.age.between(20, 30))
```

### ğŸ“Œ and, or ì¡°ê±´

```java
.where(idol.idolName.eq("ê¹€ì±„ì›").and(idol.age.gt(20)))
```

### ğŸ“Œ ì •ë ¬

```java
.orderBy(idol.age.asc(), idol.idolName.desc())
```

### ğŸ“Œ í˜ì´ì§•

```java
.offset(0).limit(5)
```

### ğŸ“Œ fetch ì¢…ë¥˜

* `fetch()`: ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
* `fetchOne()`: ë‹¨ì¼ ê°ì²´ ë°˜í™˜ (ê²°ê³¼ê°€ 2ê°œ ì´ìƒì´ë©´ ì˜ˆì™¸ ë°œìƒ)
* `fetchFirst()`: ì²« ë²ˆì§¸ ê²°ê³¼ë§Œ ë°˜í™˜

---

## âœ… QueryDSL ì—°ê´€ê´€ê³„ ì¡°íšŒ

### â–¶ Join ì¡°íšŒ

```java
factory.selectFrom(idol)
       .join(idol.group, group)
       .where(group.groupName.eq("ì•„ì´ë¸Œ"))
       .fetch();
```

### â–¶ Fetch Join (ì§€ì—°ë¡œë”© ë°©ì§€)

```java
factory.selectFrom(idol)
       .join(idol.group, group).fetchJoin()
       .fetch();
```

### â–¶ N+1 ë¬¸ì œ í•´ê²°

* `fetchJoin()`ì„ í†µí•´ joiní•œ ì—”í‹°í‹°ë„ í•œ ë²ˆì— ê°™ì´ ì¡°íšŒë¨ â†’ ì¿¼ë¦¬ 1ë²ˆë§Œ ì‹¤í–‰ë¨

---

## âœ… ì •ë¦¬ ìš”ì•½

* QueryDSLì€ JPQLì„ íƒ€ì… ì•ˆì „í•˜ê²Œ Java ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤Œ
* ì¡°ê±´, ì •ë ¬, í˜ì´ì§•, fetch íƒ€ì… ë“± ë‹¤ì–‘í•œ SQL íŒ¨í„´ì„ ì§€ì›
* ì—°ê´€ê´€ê³„ ì¡°íšŒ, Fetch Join ë“±ì„ í†µí•´ ì„±ëŠ¥ ìµœì í™” ê°€ëŠ¥
* ì‹¤ë¬´ì—ì„œë„ repository layerì—ì„œ QueryDSLì„ ìì£¼ ì‚¬ìš©í•¨
