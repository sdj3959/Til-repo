## 0824 Spring MVC ν•µμ‹¬ κ°λ… μ •λ¦¬

---

### β… 1. Spring MVCλ€?

*   **Spring MVC**λ” Spring ν”„λ μ„μ›ν¬μ—μ„ μ κ³µν•λ” **μ›Ή(Web) μ• ν”λ¦¬μΌ€μ΄μ… κ°λ° λ¨λ“**μ…λ‹λ‹¤. μ΄λ¦„μ—μ„ μ• μ μλ“―μ΄, μ›Ή κ°λ°μ ν‘μ¤€μ μΈ λ””μμΈ ν¨ν„΄μΈ **MVC(Model-View-Controller) ν¨ν„΄**μ„ κΈ°λ°μΌλ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

*   **ν•µμ‹¬ λ©ν‘**: λΉ„μ¦λ‹μ¤ λ΅μ§(Model), ν™”λ©΄(View), κ·Έλ¦¬κ³  μ”μ²­ μ²λ¦¬(Controller)μ μ—­ν• μ„ λ…ν™•ν•κ² **λ¶„λ¦¬(Separation of Concerns)**ν•μ—¬, μ• ν”λ¦¬μΌ€μ΄μ…μ μ μ—°μ„±κ³Ό ν™•μ¥μ„±μ„ λ†’μ΄λ” κ²ƒμ…λ‹λ‹¤.

---

### β… 2. Spring MVCμ μ‹¬μ¥: `DispatcherServlet`

*   Spring MVCμ λ¨λ“  μ”μ²­μ€ **`DispatcherServlet`**μ΄λΌλ” λ‹¨ ν•λ‚μ μ„λΈ”λ¦Ώμ„ ν†µν•΄ μ²λ¦¬λ©λ‹λ‹¤. `DispatcherServlet`μ€ ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  μ”μ²­μ„ κ°€μ¥ λ¨Όμ € λ°›λ” **μ¤‘μ•™ κ΄€μ νƒ‘(Front Controller)** μ—­ν• μ„ ν•©λ‹λ‹¤.

*   **`DispatcherServlet`μ μ—­ν• **:
    1.  ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ“¤μ–΄μ¨ μ”μ²­μ„ κ°€λ΅μ±•λ‹λ‹¤.
    2.  μ”μ²­μ„ μ²λ¦¬ν•  μ μ ν• μ»¨νΈλ΅¤λ¬(Handler)λ¥Ό μ°Ύλ„λ΅ **`HandlerMapping`**μ—κ² μ„μ„ν•©λ‹λ‹¤.
    3.  μ°Ύμ•„λ‚Έ μ»¨νΈλ΅¤λ¬λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄ **`HandlerAdapter`**μ—κ² μ„μ„ν•©λ‹λ‹¤.
    4.  μ»¨νΈλ΅¤λ¬κ°€ λ°ν™ν• λ·°(View) μ΄λ¦„μ„ **`ViewResolver`**μ—κ² μ „λ‹¬ν•μ—¬ μ‹¤μ  λ·° κ°μ²΄λ¥Ό μ°Ύμµλ‹λ‹¤.
    5.  μ°Ύμ•„λ‚Έ λ·°μ—κ² λ¨λΈ(Model) λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•μ—¬ μµμΆ… μ‘λ‹µ(HTML, JSON λ“±)μ„ μƒμ„±ν•λ„λ΅ μ”μ²­ν•©λ‹λ‹¤.

---

### β… 3. Spring MVCμ μ£Όμ” κµ¬μ„± μ”μ†

| μ»΄ν¬λ„νΈ | μ—­ν•  | μ„¤λ… |
| :--- | :--- | :--- |
| **`DispatcherServlet`** | **Front Controller** | λ¨λ“  HTTP μ”μ²­μ„ κ°€μ¥ λ¨Όμ € λ°›μ•„ μ²λ¦¬μ μ „ κ³Όμ •μ„ μ΅°μ¨ν•λ” μ¤‘μ•™ μ μ–΄ μ¥μΉ |
| **`HandlerMapping`** | **ν•Έλ“¤λ¬(μ»¨νΈλ΅¤λ¬) νƒμƒ‰** | μ”μ²­ URLμ— λ§¤ν•‘λλ” μ»¨νΈλ΅¤λ¬(λ©”μ„λ“)λ¥Ό μ°Ύμ•„ `DispatcherServlet`μ— λ°ν™ |
| **`HandlerAdapter`** | **ν•Έλ“¤λ¬ μ‹¤ν–‰** | `HandlerMapping`μ΄ μ°Ύμ€ μ»¨νΈλ΅¤λ¬λ¥Ό μ‹¤μ λ΅ μ‹¤ν–‰ν•κ³ , κ·Έ κ²°κ³Όλ¥Ό `ModelAndView` κ°μ²΄λ΅ λ³€ν™ν•μ—¬ λ°ν™ |
| **`Controller`** | **μ”μ²­ μ²λ¦¬ λ° λΉ„μ¦λ‹μ¤ λ΅μ§ νΈμ¶** | μ‹¤μ  μ”μ²­μ„ μ²λ¦¬ν•κ³ , μ„λΉ„μ¤ κ³„μΈµμ„ νΈμ¶ν•μ—¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μν–‰ν• λ’¤, κ²°κ³Ό λ°μ΄ν„°(Model)μ™€ λ·° μ΄λ¦„(View Name)μ„ λ°ν™ |
| **`Model`** | **λ°μ΄ν„° μ €μ¥μ†** | μ»¨νΈλ΅¤λ¬κ°€ μ²λ¦¬ν• κ²°κ³Ό λ°μ΄ν„°(λΉ„μ¦λ‹μ¤ λ΅μ§μ κ²°κ³Ό)λ¥Ό λ‹΄λ” κ°μ²΄. Viewμ— μ „λ‹¬λ¨ |
| **`ViewResolver`** | **λ·° νƒμƒ‰** | μ»¨νΈλ΅¤λ¬κ°€ λ°ν™ν• λ…Όλ¦¬μ μΈ λ·° μ΄λ¦„(e.g., "home")μ„ μ‹¤μ  λ¬Όλ¦¬μ μΈ λ·° νμΌ(e.g., `/WEB-INF/views/home.jsp`)λ΅ λ³€ν™ |
| **`View`** | **μ‘λ‹µ λ λ”λ§** | `Model`μ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•μ—¬ μµμΆ… μ‘λ‹µ ν™”λ©΄(HTML, JSON λ“±)μ„ μƒμ„±ν•κ³  ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ |

---

### β… 4. Spring MVCμ μ”μ²­ μ²λ¦¬ νλ¦„

1.  **[μ”μ²­]** ν΄λΌμ΄μ–ΈνΈκ°€ URLμ„ μ”μ²­ν•λ©΄ `DispatcherServlet`μ΄ μ”μ²­μ„ λ°›μµλ‹λ‹¤.
2.  **[ν•Έλ“¤λ¬ νƒμƒ‰]** `DispatcherServlet`μ€ `HandlerMapping`μ—κ² μ”μ²­ URLμ„ μ²λ¦¬ν•  μ»¨νΈλ΅¤λ¬λ¥Ό μ°Ύμ•„λ‹¬λΌκ³  μ”μ²­ν•©λ‹λ‹¤.
3.  **[ν•Έλ“¤λ¬ μ‹¤ν–‰ μ¤€λΉ„]** `DispatcherServlet`μ€ μ°Ύμ•„λ‚Έ μ»¨νΈλ΅¤λ¬λ¥Ό μ‹¤ν–‰ν•  μ μλ” `HandlerAdapter`λ¥Ό μ°Ύμµλ‹λ‹¤.
4.  **[μ»¨νΈλ΅¤λ¬ μ‹¤ν–‰]** `HandlerAdapter`λ” ν•΄λ‹Ή μ»¨νΈλ΅¤λ¬μ λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
5.  **[λΉ„μ¦λ‹μ¤ λ΅μ§]** μ»¨νΈλ΅¤λ¬λ” λΉ„μ¦λ‹μ¤ λ΅μ§(Service)μ„ νΈμ¶ν•κ³ , κ·Έ κ²°κ³Ό λ°μ΄ν„°λ¥Ό `Model` κ°μ²΄μ— λ‹΄μµλ‹λ‹¤.
6.  **[κ²°κ³Ό λ°ν™]** μ»¨νΈλ΅¤λ¬λ” `Model`κ³Ό ν•¨κ» λ·°μ λ…Όλ¦¬μ  μ΄λ¦„(String)μ„ `DispatcherServlet`μ— λ°ν™ν•©λ‹λ‹¤. (λ‚΄λ¶€μ μΌλ΅ `ModelAndView` κ°μ²΄λ΅ μ²λ¦¬λ¨)
7.  **[λ·° νƒμƒ‰]** `DispatcherServlet`μ€ `ViewResolver`μ—κ² λ·° μ΄λ¦„μ„ μ „λ‹¬ν•μ—¬ μ‹¤μ  `View` κ°μ²΄λ¥Ό μ°Ύμµλ‹λ‹¤.
8.  **[λ λ”λ§]** `DispatcherServlet`μ€ μ°Ύμ€ `View` κ°μ²΄μ— `Model` λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•μ—¬ ν™”λ©΄μ„ λ λ”λ§ν•λ„λ΅ μ”μ²­ν•©λ‹λ‹¤.
9.  **[μ‘λ‹µ]** `View`λ” `Model` λ°μ΄ν„°λ¥Ό λ°”νƒ•μΌλ΅ μµμΆ… μ‘λ‹µ(HTML λ“±)μ„ μƒμ„±ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™ν•©λ‹λ‹¤.

---

### β… 5. ν•µμ‹¬ μ–΄λ…Έν…μ΄μ…

| μ–΄λ…Έν…μ΄μ… | μ„¤λ… |
| :--- | :--- |
| **`@Controller`** | ν•΄λ‹Ή ν΄λμ¤κ°€ Spring MVCμ μ»¨νΈλ΅¤λ¬μ„μ„ λ‚νƒ€λƒ…λ‹λ‹¤. |
| **`@RestController`** | `@Controller`μ™€ `@ResponseBody`λ¥Ό ν•©μΉ κ²ƒμΌλ΅, μ£Όλ΅ REST APIμ—μ„ JSON/XML ν•νƒμ λ°μ΄ν„°λ¥Ό λ°ν™ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤. |
| **`@RequestMapping`** | νΉμ • URL κ²½λ΅μ™€ μ»¨νΈλ΅¤λ¬μ λ©”μ„λ“λ¥Ό λ§¤ν•‘ν•©λ‹λ‹¤. (`@GetMapping`, `@PostMapping` λ“±μΌλ΅ μ¶•μ•½ κ°€λ¥) |
| **`@RequestParam`** | HTTP μ”μ²­ νλΌλ―Έν„°(e.g., `?name=John`)λ¥Ό λ©”μ„λ“μ λ§¤κ°λ³€μμ— λ°”μΈλ”©ν•©λ‹λ‹¤. |
| **`@ModelAttribute`** | μ”μ²­ νλΌλ―Έν„°λ¥Ό κ°μ²΄(DTO)μ— λ°”μΈλ”©ν•κ±°λ‚, Modelμ— μ†μ„±μ„ μ¶”κ°€ν•  λ• μ‚¬μ©ν•©λ‹λ‹¤. |
| **`@RequestBody`** | HTTP μ”μ²­μ λ³Έλ¬Έ(Body)μ— λ‹΄κΈ΄ JSON/XML λ°μ΄ν„°λ¥Ό κ°μ²΄μ— λ°”μΈλ”©ν•©λ‹λ‹¤. |
| **`@ResponseBody`** | λ©”μ„λ“μ λ°ν™ κ°’μ΄ λ·° μ΄λ¦„μ΄ μ•„λ‹λΌ, HTTP μ‘λ‹µ λ³Έλ¬Έ(Body)μ— μ§μ ‘ μ“°μ—¬μ Έμ•Ό ν•¨μ„ λ‚νƒ€λƒ…λ‹λ‹¤. (`@RestController`μ— ν¬ν•¨λ¨) |
| **`@PathVariable`** | URL κ²½λ΅μ μΌλ¶€(e.g., `/users/{userId}`)λ¥Ό λ©”μ„λ“μ λ§¤κ°λ³€μμ— λ°”μΈλ”©ν•©λ‹λ‹¤. |

---

### π“ μ”μ•½

*   Spring MVCλ” **MVC ν¨ν„΄**μ„ κΈ°λ°μΌλ΅ **κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬**ν•μ—¬ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•λ” ν”„λ μ„μ›ν¬μ…λ‹λ‹¤.
*   **`DispatcherServlet`**μ΄ λ¨λ“  μ”μ²­μ„ λ°›μ•„ **μ¤‘μ•™μ—μ„ μ΅°μ¨**ν•λ” **Front Controller ν¨ν„΄**μ„ μ‚¬μ©ν•©λ‹λ‹¤.
*   **`HandlerMapping`, `HandlerAdapter`, `ViewResolver`** λ“±μ κµ¬μ„± μ”μ†λ“¤μ΄ `DispatcherServlet`κ³Ό ν‘λ ¥ν•μ—¬ μ”μ²­μ„ μ²΄κ³„μ μΌλ΅ μ²λ¦¬ν•©λ‹λ‹¤.
*   **μ–΄λ…Έν…μ΄μ… κΈ°λ°**μ μ„¤μ •μ„ ν†µν•΄ κ°λ°μλ” λΉ„μ¦λ‹μ¤ λ΅μ§μ— λ” μ§‘μ¤‘ν•  μ μμµλ‹λ‹¤.