## 1116 Spring Boot κ°λ° μƒμ‚°μ„± ν–¥μƒ: Lombok, MapStruct, Swagger

---

### β… 1. Lombok: λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“ μλ™ μƒμ„±

*   **Lombok**μ€ Java κ°λ° μ‹ λ°λ³µμ μΌλ΅ μ‘μ„±ν•΄μ•Ό ν•λ” **λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“(Boilerplate Code)**λ¥Ό μ–΄λ…Έν…μ΄μ… ν•λ‚λ΅ μλ™ μƒμ„±ν•΄μ£Όλ” λ§¤μ° μ μ©ν• λΌμ΄λΈλ¬λ¦¬μ…λ‹λ‹¤.

*   **λ¬Έμ μ **: Javaμ ν΄λμ¤(νΉν DTOλ‚ Entity)λ¥Ό μ‘μ„±ν•  λ•, `Getter`, `Setter`, `toString()`, `equals()`, `hashCode()`, μƒμ„±μ λ“±μ„ λ§¤λ² μ‘μ„±ν•λ” κ²ƒμ€ λ§¤μ° λ²κ±°λ΅­κ³  κ°€λ…μ„±μ„ ν•΄μΉ©λ‹λ‹¤.

*   **Lombokμ ν•΄κ²°μ±…**: μ»΄νμΌ μ‹μ μ— μ–΄λ…Έν…μ΄μ…μ„ λ¶„μ„ν•μ—¬, ν•„μ”ν• λ©”μ„λ“λ“¤μ λ°”μ΄νΈμ½”λ“λ¥Ό **μλ™μΌλ΅ μƒμ„±**ν•΄μ¤λ‹λ‹¤. κ°λ°μλ” μ‹¤μ  μ½”λ“μ—μ„λ” μ–΄λ…Έν…μ΄μ…λ§ μ„ μ–Έν•λ©΄ λλ―€λ΅, μ½”λ“κ°€ λ§¤μ° κΉ”λ”ν•κ³  κ°„κ²°ν•΄μ§‘λ‹λ‹¤.

#### β• μ£Όμ” Lombok μ–΄λ…Έν…μ΄μ…

| μ–΄λ…Έν…μ΄μ… | μ„¤λ… |
| :--- | :--- |
| **`@Getter` / `@Setter`** | λ¨λ“  ν•„λ“μ— λ€ν• Getter/Setter λ©”μ„λ“λ¥Ό μλ™μΌλ΅ μƒμ„±ν•©λ‹λ‹¤. |
| **`@ToString`** | `toString()` λ©”μ„λ“λ¥Ό μλ™μΌλ΅ μ¤λ²„λΌμ΄λ“ν•©λ‹λ‹¤. (λ””λ²„κΉ… μ‹ μ μ©) |
| **`@NoArgsConstructor`** | νλΌλ―Έν„°κ°€ μ—†λ” κΈ°λ³Έ μƒμ„±μλ¥Ό μƒμ„±ν•©λ‹λ‹¤. |
| **`@AllArgsConstructor`** | λ¨λ“  ν•„λ“λ¥Ό νλΌλ―Έν„°λ΅ λ°›λ” μƒμ„±μλ¥Ό μƒμ„±ν•©λ‹λ‹¤. |
| **`@RequiredArgsConstructor`** | `final` λλ” `@NonNull`μ΄ λ¶™μ€ ν•„λ“λ§ ν¬ν•¨ν•λ” μƒμ„±μλ¥Ό μƒμ„±ν•©λ‹λ‹¤. (μƒμ„±μ μ£Όμ… μ‹ μ μ©) |
| **`@EqualsAndHashCode`** | `equals()`μ™€ `hashCode()` λ©”μ„λ“λ¥Ό μλ™μΌλ΅ μ¤λ²„λΌμ΄λ“ν•©λ‹λ‹¤. |
| **`@Data`** | `@Getter`, `@Setter`, `@ToString`, `@EqualsAndHashCode`, `@RequiredArgsConstructor`λ¥Ό λ¨λ‘ ν•©μΉ κ°•λ ¥ν• μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤. |
| **`@Builder`** | λΉλ” ν¨ν„΄(Builder Pattern)μ„ μ‚¬μ©ν•μ—¬ κ°μ²΄λ¥Ό μƒμ„±ν•  μ μκ² ν•΄μ¤λ‹λ‹¤. (κ°€λ…μ„± λ° μ•μ •μ„± ν–¥μƒ) |
| **`@Slf4j`** | `private static final Logger log = LoggerFactory.getLogger(ThisClass.class);` μ™€ κ°™μ€ λ΅κ±°(Logger) μ„ μ–Έ μ½”λ“λ¥Ό μλ™μΌλ΅ μƒμ„±ν•΄μ¤λ‹λ‹¤. |

    ```java
    // Lombok μ‚¬μ© μ „
    public class UserDto {
        private String name;
        private int age;
        // ... μλ§μ€ Getter, Setter, μƒμ„±μ, toString λ“± ...
    }

    // Lombok μ‚¬μ© ν›„
    @Data // λλ” @Getter @Setter @ToString λ“± ν•„μ”ν• κ²ƒλ§
    @NoArgsConstructor
    @AllArgsConstructor
    public class UserDto {
        private String name;
        private int age;
    }
    ```

---

### β… 2. MapStruct: κ°μ²΄ κ°„ λ§¤ν•‘ μλ™ν™”

*   **λ¬Έμ μ **: κ³„μΈµν• μ•„ν‚¤ν…μ²μ—μ„ **Entity, Request DTO, Response DTO** κ°„μ ν•„λ“ κ°’μ„ λ³µμ‚¬ν•λ” λ³€ν™ μ½”λ“λ¥Ό μ‘μ„±ν•λ” κ²ƒμ€ λ§¤μ° λ°λ³µμ μ΄κ³  μ‹¤μκ°€ λ°μƒν•κΈ° μ‰¬μ΄ μ‘μ—…μ…λ‹λ‹¤.
    ```java
    // μλ™ λ§¤ν•‘
    UserResponseDto dto = new UserResponseDto();
    dto.setId(user.getId());
    dto.setUsername(user.getUsername());
    // ... ν•„λ“κ°€ 10κ°λΌλ©΄ 10μ¤„μ μ½”λ“κ°€ ν•„μ” ...
    ```

*   **MapStruct**λ” μ΄λ¬ν• κ°μ²΄ κ°„μ **λ§¤ν•‘(Mapping) μ½”λ“λ¥Ό μ»΄νμΌ μ‹μ μ— μλ™μΌλ΅ μƒμ„±**ν•΄μ£Όλ” μ½”λ“ μƒμ„±κΈ°(Code Generator)μ…λ‹λ‹¤.

#### β• MapStructμ νΉμ§• λ° μ‚¬μ©λ²•

1.  **μΈν„°νμ΄μ¤ κΈ°λ°**: κ°λ°μλ” λ§¤ν•‘ κ·μΉ™μ„ μ •μν•  **μΈν„°νμ΄μ¤**λ¥Ό μ‘μ„±ν•κ³  `@Mapper` μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ…λ‹λ‹¤.
2.  **μ»΄νμΌ μ‹μ  μ½”λ“ μƒμ„±**: λΉλ“ μ‹μ μ— MapStructκ°€ μ΄ μΈν„°νμ΄μ¤μ **κµ¬ν„μ²΄λ¥Ό μλ™μΌλ΅ μƒμ„±**ν•΄μ¤λ‹λ‹¤. (λ¦¬ν”λ ‰μ…μ„ μ‚¬μ©ν•μ§€ μ•μ•„ μ„±λ¥ μ €ν•κ°€ μ—†μ)
3.  **κ·μΉ™ κΈ°λ° λ§¤ν•‘**: ν•„λ“ μ΄λ¦„μ΄ κ°™μΌλ©΄ μλ™μΌλ΅ λ§¤ν•‘ν•΄μ£Όκ³ , μ΄λ¦„μ΄ λ‹¤λ¥΄κ±°λ‚ νΉλ³„ν• λ΅μ§μ΄ ν•„μ”ν• κ²½μ° `@Mapping` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ μ»¤μ¤ν…€ κ·μΉ™μ„ μ§€μ •ν•  μ μμµλ‹λ‹¤.

    ```java
    @Mapper(componentModel = "spring") // Spring BeanμΌλ΅ λ“±λ΅
    public interface UserMapper {
        // User μ—”ν‹°ν‹°λ¥Ό UserResponseDtoλ΅ λ³€ν™ν•λ” λ©”μ„λ“ μ„ μ–Έ
        @Mapping(source = "user.id", target = "userId") // ν•„λ“ μ΄λ¦„μ΄ λ‹¤λ¥Ό κ²½μ° λ§¤ν•‘ κ·μΉ™ μ§€μ •
        UserResponseDto toResponseDto(User user);

        // List<User>λ¥Ό List<UserResponseDto>λ΅ λ³€ν™ν•λ” λ©”μ„λ“λ„ μλ™μΌλ΅ κµ¬ν„
        List<UserResponseDto> toResponseDtoList(List<User> users);
    }

    // μ„λΉ„μ¤μ—μ„ μ‚¬μ©
    @Service
    @RequiredArgsConstructor
    public class UserService {
        private final UserRepository userRepository;
        private final UserMapper userMapper; // μƒμ„±μ μ£Όμ…

        public UserResponseDto getUser(Long id) {
            User user = userRepository.findById(id).orElseThrow();
            // ν• μ¤„λ΅ λ§¤ν•‘ μ™„λ£!
            return userMapper.toResponseDto(user);
        }
    }
    ```

---

### β… 3. Swagger (OpenAPI): API λ¬Έμ„ μλ™ν™”

*   **Swagger**λ” **OpenAPI Specification(OAS)** ν‘μ¤€μ„ κΈ°λ°μΌλ΅, REST APIμ **λ…μ„Έλ¥Ό μλ™μΌλ΅ μƒμ„±ν•κ³ , μ‹κ°μ μΈ UIλ΅ λ¬Έμ„ν™”**ν•λ©°, ν•΄λ‹Ή UIμ—μ„ μ§μ ‘ **APIλ¥Ό ν…μ¤νΈ**ν•΄λ³Ό μ μλ” κ°•λ ¥ν• λ„κµ¬μ…λ‹λ‹¤.

*   **λ¬Έμ μ **: APIλ¥Ό κ°λ°ν• ν›„, API λ…μ„Έμ„λ¥Ό λ³„λ„μ λ¬Έμ„(Wiki, Excel λ“±)λ΅ κ΄€λ¦¬ν•λ©΄, μ½”λ“ λ³€κ²½ μ‚¬ν•­μ΄ λ¬Έμ„μ— μ λ• λ°μλμ§€ μ•μ•„ κ²°κµ­ μ½”λ“μ™€ λ¬Έμ„κ°€ λ¶μΌμΉν•κ² λλ” λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤.

*   **Swaggerμ ν•΄κ²°μ±…**: **μ½”λ“κ°€ κ³§ λ¬Έμ„(Code as Documentation)**κ°€ λλ„λ΅ ν•©λ‹λ‹¤. μ½”λ“μ— μ¶”κ°€ν• μ–΄λ…Έν…μ΄μ…μ„ κΈ°λ°μΌλ΅ ν•­μƒ μµμ‹  μƒνƒμ API λ¬Έμ„λ¥Ό μλ™μΌλ΅ μƒμ„±ν•΄μ¤λ‹λ‹¤.

#### β• Spring Bootμ™€ `springdoc-openapi`

*   `springdoc-openapi` λΌμ΄λΈλ¬λ¦¬λ¥Ό μμ΅΄μ„±μ— μ¶”κ°€ν•λ©΄, Spring Boot μ• ν”λ¦¬μΌ€μ΄μ…μ μ»¨νΈλ΅¤λ¬ μ½”λ“λ¥Ό λ¶„μ„ν•μ—¬ μλ™μΌλ΅ OpenAPI 3.0 λ…μ„Έλ¥Ό μƒμ„±ν•΄μ¤λ‹λ‹¤.
*   λ³„λ„μ μ„¤μ • μ—†μ΄λ„ `/v3/api-docs` κ²½λ΅μ—μ„ JSON λ…μ„Έλ¥Ό, `/swagger-ui.html` κ²½λ΅μ—μ„ μ‹κ°μ μΈ UIλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

#### β• μ£Όμ” μ–΄λ…Έν…μ΄μ…

*   **`@Operation`**: APIμ κΈ°λ¥μ— λ€ν• μ”μ•½(summary) λ° μ„¤λ…(description)μ„ μ¶”κ°€ν•©λ‹λ‹¤.
*   **`@Parameter`**: νλΌλ―Έν„°μ— λ€ν• μ„¤λ…μ„ μ¶”κ°€ν•©λ‹λ‹¤.
*   **`@ApiResponse`**: λ°μƒ κ°€λ¥ν• μ‘λ‹µ μƒνƒ μ½”λ“λ³„λ΅ μ„¤λ…μ„ μ¶”κ°€ν•©λ‹λ‹¤.
*   **`@Schema`**: DTOλ‚ λ¨λΈ κ°μ²΄μ ν•„λ“μ— λ€ν• μ„¤λ…μ„ μ¶”κ°€ν•©λ‹λ‹¤.

    ```java
    @RestController
    @RequestMapping("/api/users")
    public class UserController {

        @Operation(summary = "μ‚¬μ©μ μ •λ³΄ μ΅°ν", description = "IDλ΅ νΉμ • μ‚¬μ©μμ μ •λ³΄λ¥Ό μ΅°νν•©λ‹λ‹¤.")
        @ApiResponse(responseCode = "200", description = "μ΅°ν μ„±κ³µ")
        @ApiResponse(responseCode = "404", description = "μ‚¬μ©μλ¥Ό μ°Ύμ„ μ μ—†μ")
        @GetMapping("/{id}")
        public UserResponseDto getUserById(
            @Parameter(description = "μ‚¬μ©μ ID") @PathVariable Long id
        ) {
            // ...
        }
    }
    ```

---

### π“ μ”μ•½

*   **Lombok**μ€ `@Data`, `@Builder` λ“±μ μ–΄λ…Έν…μ΄μ…μΌλ΅ λ°λ³µμ μΈ **λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“λ¥Ό μ κ±°**ν•μ—¬ μ½”λ“μ κ°€λ…μ„±κ³Ό μƒμ‚°μ„±μ„ λ†’μ…λ‹λ‹¤.
*   **MapStruct**λ” `@Mapper` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ **Entityμ™€ DTO κ°„μ λ³€ν™ μ½”λ“**λ¥Ό μ»΄νμΌ μ‹μ μ— μλ™μΌλ΅ μƒμ„±ν•μ—¬, λ°λ³µμ μΈ λ§¤ν•‘ μ‘μ—…μ„ μ¤„μ—¬μ£Όκ³  μ‹¤μλ¥Ό λ°©μ§€ν•©λ‹λ‹¤.
*   **Swagger (springdoc-openapi)**λ” μ»¨νΈλ΅¤λ¬ μ½”λ“μ μ–΄λ…Έν…μ΄μ…μ„ κΈ°λ°μΌλ΅ **API λ¬Έμ„λ¥Ό μλ™μΌλ΅ μƒμ„±**ν•κ³  ν…μ¤νΈ UIλ¥Ό μ κ³µν•μ—¬, κ°λ°μ κ°„μ ν‘μ—… ν¨μ¨μ„ κ·Ήλ€ν™”ν•κ³  ν•­μƒ μµμ‹  μƒνƒμ λ¬Έμ„λ¥Ό μ μ§€ν•  μ μκ² ν•©λ‹λ‹¤.