# 0727 ν•™μµ

## β… MyBatis Mapper κµ¬μ΅° μ΄ν•΄

* `@Mapper` μΈν„°νμ΄μ¤ + XML Mapper λ¶„λ¦¬ κµ¬μ΅°
* MyBatis μ„¤μ • νμΌμ—μ„ κ²½λ΅ μ§€μ •

```yaml
mybatis:
  mapper-locations: classpath:mappers/**/*.xml
  configuration:
    map-underscore-to-camel-case: true
```

## β… Pet CRUD ν”„λ΅μ νΈ

### π“¦ Entity ν΄λμ¤

```java
public class Pet {
  private Long id;
  private String petName;
  private int petAge;
  private boolean injection;
}
```

### π“‚ Mapper μΈν„°νμ΄μ¤

```java
@Mapper
public interface PetMapper {
  boolean save(Pet pet);
  Pet findById(Long id);
  List<Pet> findAll();
  boolean update(Pet pet);
  boolean deleteById(Long id);
  int petCount();
}
```

### π“„ XML λ§¤ν•‘ μμ‹

```xml
<insert id="save">
  INSERT INTO tbl_pet (pet_name, pet_age, injection)
  VALUES (#{petName}, #{petAge}, #{injection})
</insert>
```

---

## β… SQL μ΅°μΈ (JOIN)

* INNER JOIN, OUTER JOIN, λ‹¤μ¤‘ μ΅°μΈ
* Oracle μ™Έλ¶€μ΅°μΈ: `(+)\`

### μμ : κ²μ‹λ¬Όκ³Ό λ“κΈ€ μ΅°μΈ

```sql
SELECT P.POST_ID, P.CONTENT, C.COMMENT_TEXT
FROM POSTS P
INNER JOIN COMMENTS C ON P.POST_ID = C.POST_ID;
```

### μμ : μ‚¬μ©μ - κ²μ‹λ¬Ό - λ“κΈ€ μ΅°μΈ

```sql
SELECT
  P.POST_ID,
  U.USERNAME,
  C.COMMENT_TEXT
FROM POSTS P
INNER JOIN USERS U ON P.USER_ID = U.USER_ID
INNER JOIN COMMENTS C ON P.POST_ID = C.POST_ID;
```

---

### β… μ”μ•½

* MyBatisλ¥Ό ν†µν• Mapper κµ¬μ΅° μ„¤κ³„ λ¥λ ¥ ν–¥μƒ
* XML Mapperλ¥Ό ν†µν• SQL λ¶„λ¦¬ λ° μ μ§€ λ³΄μ μ©μ΄μ„± κ²½ν—
* λ‹¤μ–‘ν• SQL JOIN λ¬Έλ²•κ³Ό μ‹¤μµμ„ ν†µν•΄ κ΄€κ³„ν• λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„ μ΄ν•΄λ„ μ¦κ°€
