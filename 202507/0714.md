# 0714 í•™ìŠµ ì •ë¦¬: JSON ì‘ë‹µ ì²˜ë¦¬ & ë„ì„œ ê´€ë¦¬ ì‹œìŠ¤í…œ

## âœ… 1. ë‹¤ì–‘í•œ HTTP ì‘ë‹µ ì²˜ë¦¬ ë°©ë²•

### ğŸ“„ HTML ë¬¸ìì—´ ì‘ë‹µ

```java
@GetMapping("/show/html")
@ResponseBody
public String html() {
    return """
        <html>
        <body>
            <h1>HTML ì‘ë‹µí•˜ê¸°</h1>
        </body>
        </html>
    """;
}
```

### ğŸ“„ ìˆœìˆ˜ í…ìŠ¤íŠ¸ ì‘ë‹µ (text/plain)

```java
@GetMapping(value="/show/text", produces = "text/plain")
@ResponseBody
public String text() {
    return "í•˜ì´ ë‚œ ë¬¸ìì•¼~~";
}
```

### ğŸ“„ JSON ì‘ë‹µ - Map

```java
@GetMapping("/json/object")
@ResponseBody
public Map<String, Object> myPet() {
    return Map.of(
        "name", "ì•¼ì˜¹ì´",
        "age", 3,
        "kind", "ì½”ë¦¬ì•ˆìˆí—¤ì–´"
    );
}
```

### ğŸ“„ JSON ì‘ë‹µ - ê°ì²´

```java
@GetMapping("/json/object2")
@ResponseBody
public Pet myPet2() {
    return new Pet("ëƒ¥ëƒ¥ì´", 5, "í˜ë¥´ì‹œì•ˆ", true);
}
```

### ğŸ“„ JSON ì‘ë‹µ - ë¦¬ìŠ¤íŠ¸

```java
@GetMapping("/json/object3")
@ResponseBody
public List<Pet> myPet3() {
    return List.of(
        new Pet("ëƒ¥ëƒ¥ì´", 5, "í˜ë¥´ì‹œì•ˆ", true),
        new Pet("ëƒ¥ëƒ¥ì´2", 6, "í˜ë¥´ì‹œì•ˆ2", false),
        ...
    );
}
```

---

## âœ… 2. ë„ì„œ ê´€ë¦¬ ì‹œìŠ¤í…œ (Book Management)

### ğŸ“Œ êµ¬ì¡°

* í”„ë¡ íŠ¸: JSP + JS
* ë°±ì—”ë“œ API URL: `/api/v2-4/books`

### ğŸ“Œ í•µì‹¬ ê¸°ëŠ¥

1. ì±… ëª©ë¡ ì¡°íšŒ (GET)
2. ì±… ë“±ë¡ (POST)
3. ì±… ì‚­ì œ (DELETE)

### ğŸ“„ ì±… ë“±ë¡ ì˜ˆì‹œ (POST ìš”ì²­)

```javascript
await fetch(`${URL}?title=${title}&author=${author}&price=${price}`, {
  method: 'POST'
});
```

### ğŸ“„ ì±… ëª©ë¡ ì¡°íšŒ ì˜ˆì‹œ

```javascript
const res = await fetch(`${URL}?sort=id`);
const data = await res.json();
renderBooks(data);
```

### ğŸ“„ ì‚­ì œ ìš”ì²­

```javascript
const res = await fetch(`${URL}/${bookId}`, {
  method: 'DELETE'
});
```

---

## âœ… 3. í™”ë©´ êµ¬ì„±

* ì±… ë“±ë¡ í¼: ì œëª©, ì €ì, ê°€ê²© ì…ë ¥
* ëª©ë¡ í‘œì‹œ: `ul.book-list` ë‚´ë¶€ì— JSë¡œ ë Œë”ë§
* ì´ ê¶Œìˆ˜ í‘œì‹œ: `.book-count`
* ì •ë ¬ ë²„íŠ¼ í´ë¦­ ì‹œ: `fetchGetBooks(sort)` í˜¸ì¶œ

---

## âœ… ìš”ì•½

* `@ResponseBody`ëŠ” JSON, HTML, TEXT ë“± ë‹¤ì–‘í•œ ì‘ë‹µì„ ë³´ë‚¼ ìˆ˜ ìˆê²Œ í•¨
* JavaScriptì—ì„œëŠ” `fetch` APIë¥¼ í†µí•´ ë¹„ë™ê¸° ìš”ì²­ì„ ì²˜ë¦¬í•¨
* form ì…ë ¥ì„ í†µí•œ ë°ì´í„° ì „ì†¡, ëª©ë¡ ë Œë”ë§, ì‚­ì œ ì²˜ë¦¬ê¹Œì§€ CRUD ê¸°ë³¸ íë¦„ ìˆ™ì§€
