# 0717 Spring DI ν•™μµ μ •λ¦¬

## π§± DI(Dependency Injection) μμ΅΄μ„± μ£Όμ…

* **μμ΅΄ κ°μ²΄λ¥Ό μ™Έλ¶€μ—μ„ μ£Όμ…λ°›μ•„ μ‚¬μ©ν•λ” λ°©μ‹**μΌλ΅ κ°μ²΄ κ°„μ κ²°ν•©λ„λ¥Ό λ‚®μ¶”κ³  μ μ—°ν• κµ¬μ΅°λ¥Ό μ„¤κ³„ν•  μ μμ.

### π¤ μƒμ„±μ μ£Όμ… λ°©μ‹

* κ°μ²΄ μƒμ„± μ‹μ μ— ν•„μ”ν• μμ΅΄ κ°μ²΄λ¥Ό μƒμ„±μ νλΌλ―Έν„°λ΅ μ£Όμ…λ°›λ” λ°©μ‹
* ν…μ¤νΈ, μ μ§€λ³΄μμ— μ©μ΄

```java
public class Car {
    private final Engine engine;

    public Car(Engine engine) {
        this.engine = engine;
    }

    public void drive() {
        engine.start();
        System.out.println("μλ™μ°¨κ°€ λ‹¬λ¦½λ‹λ‹¤.");
    }
}
```

---

## π¨ chap01 - λ μ¤ν† λ‘, μ…°ν”„, μ½”μ¤

### κµ¬μ΅° μ„¤λ…

* **Restaurant**: λ μ¤ν† λ‘ μΈν„°νμ΄μ¤ (order λ©”μ„λ“)

* **Chef**: μ…°ν”„ μΈν„°νμ΄μ¤ (cook λ©”μ„λ“)

* **Course**: μ½”μ¤ λ©”λ‰΄ μΈν„°νμ΄μ¤ (combineMenu λ©”μ„λ“)

* κµ¬ν„ ν΄λμ¤:

  * `WesternRestaurant`, `AsianRestaurant` λ“±
  * `JannChef`, `KimuraChef`, `StephaneChef` λ“±
  * `FrenchCourse`, `SushiCourse`, `ItalianCourse` λ“±

### Hotel ν΄λμ¤

* λ μ¤ν† λ‘κ³Ό μ…°ν”„λ¥Ό μμ΅΄μ„±μΌλ΅ κ°€μ§
* `reserve()` λ©”μ„λ“λ΅ μμ•½ λ™μ‘ κµ¬ν„

### HotelManager

* μ§μ ‘ μμ΅΄ κ°μ²΄λ¥Ό μƒμ„±ν•μ—¬ μ£Όμ…ν•λ” λ°©μ‹
* μ¤ν”„λ§ μ—†μ΄λ„ IoCλ¥Ό ν‰λ‚΄λƒ„

---

## π§ chap02_2 - Spring DI μ—°μµ

### CarConfig

* `@Configuration`κ³Ό `@Bean`μ„ μ‚¬μ©ν•΄ κ°μ²΄ λ“±λ΅

```java
@Configuration
public class CarConfig {
    @Bean
    public Engine engine() {
        return new Engine();
    }

    @Bean
    public Car car() {
        return new Car(engine());
    }
}
```

### LibraryConfig

* `List<Book>`κ³Ό `Library`λ¥Ό λ“±λ΅ν•λ” μμ 

```java
@Bean
public List<Book> books() {
    return List.of(
        new Book("μΊμΉμΊμΉ ν‹°λ‹ν•‘", "ν•μΈ„ν•‘"),
        new Book("λ½€λ΅λ΅", "μ‚λ¦¬λ¦¬"),
        new Book("λ°μ§€μ μ μ™•", "λ§λ§λ§")
    );
}

@Bean
public Library library() {
    return new Library(books());
}
```

### MusicConfig

* Setterλ¥Ό μ΄μ©ν• μμ΅΄μ„± μ£Όμ…

```java
@Bean
public MusicPlayer musicPlayer() {
    MusicPlayer musicPlayer = new MusicPlayer();
    musicPlayer.setSpeaker(speaker());
    return musicPlayer;
}
```

---

## βοΈ ν…μ¤νΈ μ½”λ“

* `AnnotationConfigApplicationContext`λ΅ μ„¤μ • ν΄λμ¤ λ“±λ΅
* `getBean()` λ©”μ„λ“λ¥Ό ν†µν•΄ λΉ κ°μ²΄λ¥Ό κ°€μ Έμ™€ λ©”μ„λ“ μ‹¤ν–‰

```java
ApplicationContext context = new AnnotationConfigApplicationContext(CarConfig.class);
Car car = context.getBean(Car.class);
car.drive();
```

---

## β… μ”μ•½

* DIλ” κ°μ²΄ κ°„μ κ°•ν• κ²°ν•©μ„ λ‚®μ¶° μ μ§€λ³΄μμ„±κ³Ό ν…μ¤νΈλ¥Ό λ†’μ—¬μ¤
* Springμ—μ„λ” `@Configuration`, `@Bean`μ„ ν†µν•΄ DIλ¥Ό κµ¬ν„ν•  μ μμ
* μƒμ„±μ μ£Όμ… λ°©μ‹μ΄ κ°€μ¥ κ¶μ¥λ¨ (λ¶λ³€μ„±κ³Ό ν…μ¤νΈ μ©μ΄)
* λ‹¤μ–‘ν• λ°©μ‹(Car, Library, MusicPlayer λ“±)μΌλ΅ DI μ‹¤μµμ„ ν†µν•΄ κ°λ… μ΄ν•΄ν•¨
